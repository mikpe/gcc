# t-metag-linux
# Copyright (C) 2011 Imagination Technologies Ltd
 
# This file is part of GCC. 
 
# GCC is free software; you can redistribute it and/or modify it under
# the terms of the GNU General Public License as published by the Free
# Software Foundation; either version 3, or (at your option) any later
# version.
# 
# GCC is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or
# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
# for more details.
# 
# You should have received a copy of the GNU General Public License
# along with GCC; see the file COPYING3.  If not see
# <http://www.gnu.org/licenses/>.

# WORK NEEDED: We have to have minim versions of libraries but will also need 
#              hardfloat variants
MULTILIB_OPTIONS= mminim
MULTILIB_DIRNAMES= minim
MULTILIB_EXCEPTIONS=
MULTILIB_MATCHES=

# We want fine grained libraries, so use the new code to build the
# floating point emulation libraries.
FPBIT = fp-bit.c
DPBIT = dp-bit.c

fp-bit.c: $(srcdir)/config/fp-bit.c
	echo '#define FLOAT' >> fp-bit.c
	cat $(srcdir)/config/fp-bit.c >> fp-bit.c

dp-bit.c: $(srcdir)/config/fp-bit.c
	cat $(srcdir)/config/fp-bit.c >> dp-bit.c

metag-linux.o: $(srcdir)/config/metag/metag-linux.c $(CONFIG_H) $(SYSTEM_H) \
               coretypes.h $(TM_H) $(RTL_H) output.h flags.h $(TREE_H) \
               expr.h toplev.h $(TM_P_H)
	$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \
                                        $(srcdir)/config/metag/metag-linux.c

