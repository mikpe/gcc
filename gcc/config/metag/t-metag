# Rules common to all metag targets
# Copyright (C) 2011 Imagination Technologies Ltd
 
# This file is part of GCC. 

# GCC is free software; you can redistribute it and/or modify it under
# the terms of the GNU General Public License as published by the Free
# Software Foundation; either version 3, or (at your option) any later
# version.
# 
# GCC is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or
# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
# for more details.
# 
# You should have received a copy of the GNU General Public License
# along with GCC; see the file COPYING3.  If not see
# <http://www.gnu.org/licenses/>.

MD_INCLUDES=$(srcdir)/config/metag/constants.md    \
            $(srcdir)/config/metag/predicates.md   \
            $(srcdir)/config/metag/peephole2.md    \
            $(srcdir)/config/metag/dsppeephole2.md    \
            $(srcdir)/config/metag/constraints.md  \
            $(srcdir)/config/metag/pipeline.md     \
            $(srcdir)/config/metag/builtins.md     \
            $(srcdir)/config/metag/peephole.md     \
            $(srcdir)/config/metag/dsppeephole.md  \
            $(srcdir)/config/metag/combines.md     \
            $(srcdir)/config/metag/fp.md           \
            $(srcdir)/config/metag/vector.md

s-config s-conditions s-flags s-codes s-constants s-emit s-recog s-preds \
         s-opinit s-extract s-peep s-attr s-attrtab s-output: $(MD_INCLUDES)

$(out_object_file): s-gtype

driver-metag.o : $(srcdir)/config/metag/driver-metag.c
	$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $<
